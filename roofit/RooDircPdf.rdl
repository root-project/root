/*****************************************************************************
 * Project: BaBar detector at the SLAC PEP-II B-factory
 * Package: RooFitModels
 *    File: $Id: RooDircPdf.rdl,v 1.6 2001/08/01 01:25:02 verkerke Exp $
 * Authors:
 *   WV, Wouter Verkerke, UC Santa Barbara, verkerke@slac.stanford.edu
 * History:
 *   02-May-2001 WV Port to RooFitModels/RooFitCore
 *
 * Copyright (C) 2000 Stanford University
 *****************************************************************************/
#ifndef ROO_DIRC_PDF
#define ROO_DIRC_PDF

#include "RooFitCore/RooAbsPdf.hh"
#include "RooFitCore/RooRealProxy.hh"
#include "RooFitCore/RooArgSet.hh"

class RooRealVar;

class RooDircPdf : public RooAbsPdf {
public:
  RooDircPdf(const char *name, const char *title, 		       
	     RooAbsReal& _drcMtm,      RooAbsReal& _thetaC, 
	     RooAbsReal& _refraction,  RooAbsReal& _mass, 
	     RooAbsReal& _otherMass,   RooAbsReal& _coreMean,  RooAbsReal& _coreSigma, 
	     RooAbsReal& _tailMean,    RooAbsReal& _tailSigma, RooAbsReal& _relNorm,
             Double_t minMtmVal = 0.0, Double_t minThetaCVal = 0.0,
	     Bool_t milliRadians = kFALSE) ;
  RooDircPdf(const RooDircPdf& other, const char* name=0) ;
  virtual TObject* clone(const char* newname) const { return new RooDircPdf(*this,newname); }
  inline virtual ~RooDircPdf() { }

  // WVE - This is cheating, this PDF is not normalized.
  //       Making it so, would require major work, and may not be necessary 
  //       for the current analysis.
  virtual Bool_t selfNormalized() const { return kTRUE ; }

protected:

  RooRealProxy drcMtm ;
  RooRealProxy thetaC ;     
  RooRealProxy refraction ; 
  RooRealProxy mass ;       
  RooRealProxy otherMass ;  
  RooRealProxy coreMean ;
  RooRealProxy coreSigma ;
  RooRealProxy tailMean ;
  RooRealProxy tailSigma ;
  RooRealProxy relNorm ; 
  Bool_t _milliRadians ;
  Double_t _minMtmVal, _minThetaCVal;
  
  Double_t evaluate(const RooArgSet* nset) const ;

private:

  ClassDef(RooDircPdf,0) // Dirc PDF
};

#endif
