<br/>
<hr/>
<a name="graf2d"></a>

<h3>Graphical Output</h3>

<h4>PostScript and PDF</h4>
<ul>
<li> The marker size between the screen output and the output file formats
     was not consistent.</li>
<li> Implement the text kerning. The effect is clearly illustrated with
     the following script. Without kerning the red X is overlaped by the
     the rest of the text.
     <pre>
     {
        TCanvas *c = new TCanvas;
        TLatex *l = new TLatex(0.5, 0.5, "AVAVAVAVAVAVAVAVAVA#color[2]{X}");
        l->Draw();
        c->SaveAs("c1.eps");
     }
     </pre>
     The original idea came from Oleksandr Grebenyuk. It has been implemented
     in a such way that the kerning mechanism is activated only when needed. If
     not needed the old way of text rendering is used. It was done that way
     because most of the time kerning is not needed and text rendered using
     the kerning mechanism takes more space in the PS/PDF files.</li>
<li> Very long text strings made wrong PS files.</li>
<li> PDF also allows to define table of contents. Now, this facility can be used
     in ROOT. The following example shows how to proceed:
     <pre>
     {
        TCanvas* canvas = new TCanvas("canvas");
        TH1F* histo = new TH1F("histo","test 1",10,0.,10.);
        histo->SetFillColor(2);
        histo->Fill(2.);
        histo->Draw();
        canvas->Print("plots.pdf(","Title:One bin filled");
        histo->Fill(4.);
        histo->Draw();
        canvas->Print("plots.pdf","Title:Two bins filled");
        histo->Fill(6.);
        histo->Draw();
        canvas->Print("plots.pdf","Title:Three bins filled");
        histo->Fill(8.);
        histo->Draw();
        canvas->Print("plots.pdf","Title:Four bins filled");
        histo->Fill(8.);
        histo->Draw();
        canvas->Print("plots.pdf)","Title:The fourth bin content is 2");
     }
     </pre>
     Each character string following the keyword "Title:" makes a new entry in
     the table of contents.</li>
<li> <tt>TPostScript::Text</tt>: Inside a string, the backslash itself is now
     escaped. The PS file generated by the two following lines did not work.
     <pre>
     TText t(.5,.5,"\\t\\");
     t.Draw();
     </pre>
</li>
<li> Small fix regarding line width in TPDF.</li>
<li> In some cases there was some extra blanck page at the beginning of the
     PDF files. In particular when generated using the "[]" mechanism.</li>
</ul>

<h4>SVG</h4>
<ul>
<li> The character <tt>#pm</tt> was not correct.</li>
<li> Long polyline were not drawn correctly.
</ul>

<h4>TASImage</h4>
<ul>
<li> In the following macro the histogram drawing was done with wrong margins:
     <pre>
     {
        TImage *img = TImage::Open("$ROOTSYS/tutorials/image/rose512.jpg");
        img->Draw("x");
        gPad->Update();
        TH1F *h1f = new TH1F("h1f","Test random numbers",100,-5,5);
        h1f->FillRandom("gaus",10000);
        h1f->Draw();
        gPad->Update();
     }
    </pre>
</li>
<li> Improve the palette placement in <tt>TASImage::Paint</tt>
     (cf $ROOTSYS/tutorials/image/galaxy_image.C) </li>
<li> <tt>GetWidth()</tt> and <tt>GetHeight()</tt> returned the size of the
     scaled image (if it exist) instead of the real size of the image.</li>
<li> Initialize the <tt>Visual</tt> in <tt>TASImage::ReadImage</tt>. This fix
     a long standing problem with THtml: Without this fix all the embeded
     macros generating GUI output did not work in THtml.</li>
</ul>

<h4>TImageDump</h4>
</ul>
<li> Small boxes (less than one pixel width) were not drawn properly.
</li>
<li> Line width for hollow boxes was always 1 (in batch mode).
</li>
</ul>

<h3>Graphics Primitives</h3>

<h4>New text font: Symbol italic</h4>
<ul>
<li> A new text font "Symbol Italic" has been implemented. It is working for all
     possible outputs: screen, PS, PDF,SVG, gif etc ... It has the font number
     15.
     <br/>
     The following macro gives an example:
     <pre>
     {
        TCanvas c("c","c",0,0,400,100);
        TLatex t0(.05,.45,"Symbol: #font[122]{abc} - Symbol Italic #font[152]{abc}");
        t0.SetTextSize(0.36);
        t0.Draw();
        c.Print("symbolitalic.ps");
        c.Print("symbolitalic.pdf");
        c.Print("symbolitalic.gif");
        c.Print("symbolitalic.svg");
     }
     </pre>
     <center>
     <img alt="The new font Symbol Italic" src="symbolitalic.gif"/>
     </center>
     The PostScript implementation was done thanks to the help of
     Pierre Juillot and Benoit Speckel (IPHC Strasbourg)
</li>
</ul>

<h4>New markers</h4>
<ul>
<li> Three new marker's styles are now available (32, 33, 34). They complement
     the markers' list making sure each marker has a solid and an hollow
     version.
     <center>
     <img alt="New markers" src="markers.gif"/>
     </center>
</li>
</ul>

<h4>TLatex</h4>
<ul>
<li> The <tt>#int</tt> and <tt>#sum</tt> symbols had wrong limits placement
     if the character just before started with "#". There was an atempt to fix
     this problem in the previous release but it produced very bad side effects
     therefore the fix was reverted. This new fix does not have this sidecw
     effect. It causes, in the case of the "^" or "_" preceded by "sum" or
     "int", to break off and process everything before "sum" or "int" first.
     After that, when processing the rest, the "^" kicks in first according to
     the order of precedence, and takes the "int" (only!) as its base.
     <br/>
     Fix done by: Oleksandr Grebenyuk <tt>&lt;ogrebenyuk@lbl.gov&gt;</tt>.</li>
<li> Four new commands: <tt>#kern</tt>, <tt>#lower</tt>, <tt>#it</tt> and
     <tt>#bf</tt>.
     <br/>
     The two commands <tt>#kern</tt> and <tt>#lower</tt> enable a better control
     over characters placement. The command <tt>#kern[(Float_t)dx]{text}</tt>
     moves the output string horizontally by the fraction <tt>dx</tt> of its
     length. Similarly, <tt>#lower[(Float_t)dy]{text}</tt> shifts the text up
     or down by the fraction <tt>dy</tt> of its height.
     <br/>
     Text can be turned italic or boldface using the commands
     <tt>#it</tt> and <tt>#bf</tt>.
     <br/>
     Example:
     <pre>
     {
        gStyle->SetTextFont(132);
        (new TLatex(0.01, 0.9, "Positive k#kern[0.3]{e}#kern[0.3]{r}#kern[0.3]{n}#kern[0.3]{i}#kern[0.3]{n}#kern[0.3]{g} with #^{}kern[0.3]"))->Draw();
        (new TLatex(0.01, 0.7, "Negative k#kern[-0.3]{e}#kern[-0.3]{r}#kern[-0.3]{n}#kern[-0.3]{i}#kern[-0.3]{n}#kern[-0.3]{g} with #^{}kern[-0.3]"))->Draw();
        (new TLatex(0.01, 0.5, "Vertical a#lower[0.2]{d}#lower[0.4]{j}#lower[0.1]{u}#lower[-0.1]{s}#lower[-0.3]{t}#lower[-0.4]{m}#lower[-0.2]{e}#lower[0.1]{n}t with #^{}lower[-0.4...+0.4]"))->Draw();
        (new TLatex(0.01, 0.3, "Font styles: #^{}bf{#bf{bold}}, #^{}it{#it{italic}}, #^{}bf{#^{}it{#bf{#it{bold italic}}}}, #^{}bf{#^{}bf{#bf{#bf{unbold}}}}"))->Draw();
        (new TLatex(0.01, 0.1, "Font styles: abc#alpha#beta#gamma, #^{}it{#it{abc#alpha#beta#gamma}}, #^{}it{#^{}it{#it{#it{abc#alpha#beta#gamma}}}}"))->Draw();
     }</pre>
     <center>
     <img alt="New commands" src="itbf.gif"/>
     </center>
     Done by: Oleksandr Grebenyuk <tt>&lt;ogrebenyuk@lbl.gov&gt;</tt>.
<li> Two new characters: #forall and #exists.
</li>
</ul>

<h4>TText</h4>
<ul>
<li> New method <tt>GetTextAdvance</tt> to return the text advance for string
     text taking the kerning into account or not.</li>
</li>
</ul>

<h4>TGaxis</h4>
<ul>
<li> In case of horizontal axis with the font size in pixel (font precision = 3)
     the labels were not visible.</li>
<li> Alpha numeric labels are not scaled anymore in case of text precision 3
     (size in pixels). They are in the other precisions.</li>
<li> Fix a precision issue on Mac. With the following lines the last label
     (10^3) did not show:
     <pre>
     t1 = new TH1F("test","test", 100,1,1000);
     t1.Draw();
     gPad->SetLogx(1);
     </pre></li>
</ul>

<h4>TPaveStats</h4>
<ul>
<li> The stats painting assumed that the stats position was always defined with
     Y2>Y1 and X2>X1. This is true when the stats is created automatically but
     might not true if the stats position is given by user. This is now
     protected. The stats are correctly drawn whatever the orders of X and Y
     coordinates are. </li>
<li> Saving canvas as a .C macro discarded white title and stat box
     background. Same thing with TPaveText.</li>
</ul>

<h4>TCutG</h4>
<ul>
<li> <tt>IsInside(x,y)</tt> is now inherited from TGraph.</li>
</ul>

<h4>TCanvas and TPad</h4>
<ul>
<li> In case of <tt>Canvas.MoveOpaque = true</tt> in <tt>$ROOTSYS/etc/system.rootrc</tt>
the rubberband was not visible during the zooming along axis.</li>
<li><tt>TPad::SaveAs</tt> now takes care of the extensions <tt>.pdf]</tt>,
    <tt>.pdf[</tt>, <tt>.pad(</tt> and <tt>.pdf)</tt> to avoid the PS and PDF
    mixing when a multiple pages PDF files is generated. To work around this
    problem it was enough to specify the option "pdf" in SaveAs.</li>
<li> <tt>c->BuildLegend()</tt> created the legend in the current pad,
     not in <tt>c</tt> (as it should). </li>
<li> A square TCanvas saved in batch mode in a ROOT file was not square anymore
     when displayed in interactive mode. </li>
</ul>
