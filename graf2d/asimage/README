The package libAfterImage has been imported from its official repository using the command:

   cvs -d :pserver:anonymous@cvs.aftercode.net:/home/cvsroot checkout afterstep-stable/libAfterImage

This command download the source in:

   afterstep-stable/libAfterImage

To get the updates for this package it is enough to do "cvs update" from this directory.

To import libAfterImage into the ROOT svn repository we use the following command script:

   cd ~/afterstep-stable/libAfterImage
   cvs update
   cd /tmp
   cp -rf  ~/afterstep-stable/libAfterImage .
   cd libAfterImage
   rm -f Makefile config.status afterimage-libs config.log
   rm -rf apps aftershow config.h
   rm -rf ./libpng/CVS ./CVS ./win32/CVS ./libungif/CVS ./libjpeg/CVS ./zlib/CVS 
   cd libAfterImage
   cp -R * $ROOTSYS/graf2d/asimage/src/libAfterImage 
   cd /tmp   
   rm -r libAfterImage

Some files have been modified compare to the official libAfterImage version:

   config.h.in has been modified in order to use freetype from the ROOT 
   repository.

   libjpeg/jcmainct.c libjpeg/jdmainct.c have been modified to avoid a 
   compilation warning. These two pieces of code contain a variable called
   "main" (some compiler do not like this). This variable name has been
   changed to "mainptr".

   libjpeg/jmorecfg.h generated a warning on Windows: "a benign redifinition".
   This warning has been disabled.

   libjpeg/jconfig.h: disable INLINE definition.

   libjpeg/jidctred.c: removed from repository (replaced by jidctint.c)

   libjpeg/jmorecfg.h and libjpeg/jconfig.h: fix a problem with boolean.

   configure.in: support clang++ by removing some warnings.

   configure:
   - has been modified to look at the ".dylib" file extension to find
     the X11 libraries. This is needed on the Mac Leopard system.
   - the compiling option -Winline has been removed because it produced many
     warnings with gcc 4.3.
   - support clang++ by removing some warnings.

   libAfterImage.mak:
   Remove the word "Warning" in the message
   "Warning: cannot find "libAfterImage.dep" to prevent to SPI
   nightly build to issue an error.

   import.c: to fix the warning (on SLC5):
   "warning: dereferencing type-punned pointer will break strict-aliasing rules"

   import.c and ungif.c (Ubuntu gcc 4.4):
   "warning: ignoring return value of 'fread', declared with attribute warn_unused_result"

   export.c: to fix a warning on Open Solaris:
   "initializer will be sign-extended: -1"
   
   asimage.c, char2uni.c, export.c, imencdec.c:
   - fix a warning with clang:
     "comparison of unsigned enum expression < 0 is always false"

Note:
The file afterbase.h gets autogenerated by configure from afterbase.h.in
if afterbase.h.in has not changed, afterbase.h remains unchanged.

