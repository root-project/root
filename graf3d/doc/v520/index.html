<!-- DOCTYPE HTML SYSTEM><html><head><title>graf3d</title></head><body -->

<br>
<hr>
<a name="graf3d"></a>
<h3>OpenGL</h3>

<h4>Major changes</h4>

<ul>

<li> Reorganization of scene rendering in TGLViewer - render opaque
objects from all scenes first, then all transparent ones.

<li> Modularization of input event-handling in <tt>TGLViewer</tt>: all
event-handling is done by the <tt>TGLEventHandler</tt> class. One can
sub-class it now and modify behaviour of a given viewer. For
example, see <tt>TEveLegoEventHandler</tt>.

<li> Support highlighting of physical shapes for providing feedback and
showing selection.

</ul>


<h4>Minor changes, fixes and improvements</h4>

<ul>

<li> Improve saving of images from the GL-viewer so that the dialog
boxes and other windows do not result in black areas on the saved
image. The window must still be fully contained within the desktop.

<li> Improved camera controls. Three new orthographic cameras have
been added to <tt>TGLViewer</tt>, looking at the scene from another
side than the one present so far.

<li> Improved FTGL font management across rendering contexts and text
rendering support.

<li> New class <tt>TGLAxisPainter</tt> that can render 2D and 3D axes
via GL. For example see <tt>tutorials/eve/cms_calo.C</tt>.


</ul>


<h4>Possible performance issues with ATI drivers (fglrx)</h4>

In late 2007 ATI switched to a new driver architecture. With these
drivers a significant degradation of GL performance in selection mode,
up to a factor of 50, was observed. Both linux and Windows drivers
were affected. The issue has been resolved in the latest driver
versions.


<br>
<hr>
<h3>Eve</h3>

<h4>Major changes</h4>

<ul>

<li> Support for multiple, parallel OpenGL views that can show different
projections of the same event.

<li> Provide object selection and feedback highlight across all GL-views and
list-trees.

<p><img alt="Eve window showing some of the new features."
src="graf3d_eve-news-1.png">

<li> New classes for visualization of calorimeter data,
<tt>TEveCaloXYZ</tt>, see <tt>tutorials/eve/cms_calo.C</tt>. Available
representations: 3D-cylindrical view, projected views r-phi and rho-z,
and lego-view (with dedicated event handler allowing detailed
inspection of the data).

<p><img alt="Eve window showing some of the new features."
src="graf3d_eve-news-2.png">

<li> Support for compound objects in view of selection, highlight and
color managament (see class <tt>TEveCompound</tt>).

<li> Optimize updates of GL-scenes by introducing change-stamping bits
into <tt>TEveElement</tt>. See methods <tt>AddStamp()</tt> and
<tt>StampXyzz()</tt>.

<li> Added support for central management of visualization parameters
of objects. Instead of specifying visual attributes individually by
set-methods a single string tag can be used to retrieve all of them
with a single command, e.g.,
<tt>track->ApplyVizTag("MuonTrack")</tt>. The parameter-database can
be saved as a CINT script, edited manually and loaded. This provides more
flexibility as different users can share the same code to
instantiate visualziation objects but still override visualization
parameters independently. See <tt>TEveElement::CopyVizParams()</tt>
and <tt>TEveManager::*VizDB()</tt> methods for more information.


</ul>


<h4>Minor changes, fixes and improvements</h4>

<ul>

<li> Improved handling of projected elements.

<li> For fish-eye projections, allow fixing of compression scale
beyond given distance from the center.

<li> Add support for step-function scaling of 2D-projections. This
allows arbitrary magnification of concentric regions in r-phi and
rho-z views. See tutorial
<tt>tutorials/eve/projection_test_prescale.C</tt>.

<li> Path-mark type representing 2D clusters was added for
<tt>TEveTrack</tt> and <tt>TEveTrackPropagator</tt> classes.

<li> Add support for representing a set of arbitrary cones to
<tt>TEveBoxSet</tt> (see <tt>tutorials/eve/cone_test.C</tt>).

<p><img alt="Eve window showing some of the new features."
src="graf3d_eve-news-3.png">

<li> <tt>TEveFrameBox</tt> now supports arbitrary 2d frame shapes -
user specifies individual points via SetQuadByPoints() function.  See
tutorials/eve/quad_test.C::quad_test_circ() for an example.

<li> Consolidation of existing classes and code.

</ul>

<!-- /body></html -->
